---
import WorkGrid from "./WorkGrid.astro";
---

<section id="showcase">
  <WorkGrid columns={3}>
    <div class="work-item" data-label="Our Kids' Climate">
      <a href="../work/ourkidsclimate/" style="border-bottom: none">
        <img src="../images/ourkidsclimate/OKC-Posters-Landscape.avif" style="object-position: left;" alt="Project 4" />
      </a>
    </div>
    <div class="work-item" data-label="Dear Tomorrow">
      <a href="../work/deartomorrow/">
        <img src="../images/InProgress-Home-DearTomorrow.avif" alt="Project 4" />
      </a>
    </div>
    <div class="work-item" data-label="Purpose Disruptors">
      <a href="../work/purposedisruptors/">
        <img src="../images/InProgress-Home-PurposeDisruptors.avif" alt="Project 2" />
      </a>
    </div>
  </WorkGrid>
</section>

<script>
(function () {
    if (typeof window === "undefined") return;

    window.addEventListener("DOMContentLoaded", () => {
        let cursorLabelEl = document.getElementById("cursor-label");
        
        if (!cursorLabelEl) {
            const cursorLabel = document.createElement("div");
            cursorLabel.id = "cursor-label";
            cursorLabel.style.position = "fixed";
            cursorLabel.style.pointerEvents = "none";
            cursorLabel.style.zIndex = "9999";
            cursorLabel.style.opacity = "0";
            cursorLabel.style.transition = "opacity 120ms ease";
            cursorLabel.style.left = "0px";
            cursorLabel.style.top = "0px";
            cursorLabel.style.whiteSpace = "nowrap";
            cursorLabel.style.fontSize = "20px";
            cursorLabel.style.padding = "1px 8px";
            cursorLabel.style.background = "rgba(0,0,0,1)";
            cursorLabel.style.color = "#fff";
            cursorLabel.style.borderRadius = "0";
            document.body.appendChild(cursorLabel);
            cursorLabelEl = document.getElementById("cursor-label");
        }

        if (!cursorLabelEl) return;

        let mouseX = 0, mouseY = 0;
        
        document.querySelectorAll("[data-label]").forEach((el) => {
            el.addEventListener("mouseenter", () => {
                cursorLabelEl.textContent = el.dataset.label || "";
                cursorLabelEl.style.opacity = "1";
            });

            el.addEventListener("mouseleave", () => {
                cursorLabelEl.style.opacity = "0";
            });

            el.addEventListener("mousemove", (e) => {
                mouseX = e.clientX;
                mouseY = e.clientY;
                cursorLabelEl.style.left = mouseX + 10 + "px";
                cursorLabelEl.style.top = mouseY + 30 + "px";
            });
        });
    });
})();
</script>
